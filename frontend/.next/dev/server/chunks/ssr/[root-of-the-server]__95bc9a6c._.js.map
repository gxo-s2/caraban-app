{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/snoo/caravan-app/frontend/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation'; // ✅ 페이지 이동을 위한 훅\n\n// ✅ 타입 정의는 컴포넌트 바깥(위쪽)에 두어야 안전합니다.\ntype User = {\n  id: string;\n  name?: string;\n  role?: string;\n};\n\nexport default function Navbar() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const router = useRouter(); // 라우터 훅 초기화\n\n  // 로그인 상태 확인\n  useEffect(() => {\n    const userData = localStorage.getItem('user');\n    setIsLoggedIn(!!userData);\n  }, []);\n\n  // 로그아웃 핸들러\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setIsLoggedIn(false);\n    window.location.href = '/'; // 메인으로 이동 및 새로고침\n  };\n\n  // ✅ [핵심 기능] 스마트 예약 조회 핸들러\n  const handleReservationLookupClick = () => {\n    if (isLoggedIn) {\n      // 1. 로그인 상태 -> '내 예약 목록'으로 이동\n      router.push('/my/reservations');\n    } else {\n      // 2. 비로그인 상태 -> '예약 번호 조회' 페이지로 이동\n      router.push('/reservations/lookup');\n    }\n  };\n\n  return (\n    <nav className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          \n          {/* 왼쪽: 로고 및 메뉴 */}\n          <div className=\"flex items-center gap-8\">\n            {/* 로고 */}\n            <Link href=\"/\" className=\"flex-shrink-0 flex items-center cursor-pointer\">\n              <span className=\"text-2xl font-extrabold text-indigo-600 tracking-tight\">\n                CaravanShare\n              </span>\n            </Link>\n\n            {/* 데스크탑 메뉴 */}\n            <div className=\"hidden sm:flex sm:space-x-8\">\n              <Link\n                href=\"/caravans\"\n                className=\"text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-indigo-500 text-sm font-medium transition-colors\"\n              >\n                Explore Caravans\n              </Link>\n              \n              {/* ✅ [수정됨] 스마트 예약 조회 버튼 */}\n              {/* Link 태그 대신 button을 사용하여 클릭 시 로직(handleReservationLookupClick)을 실행합니다. */}\n              <button\n                onClick={handleReservationLookupClick}\n                className=\"text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-indigo-500 text-sm font-medium transition-colors focus:outline-none\"\n              >\n                예약 조회\n              </button>\n            </div>\n          </div>\n\n          {/* 오른쪽: 유저 메뉴 */}\n          <div className=\"flex items-center space-x-4\">\n            {isLoggedIn ? (\n              <>\n                <Link\n                  href=\"/my/reservations\"\n                  className=\"hidden md:inline-block text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  내 예약\n                </Link>\n                <Link\n                  href=\"/my/profile\"\n                  className=\"text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  내 프로필\n                </Link>\n                <button\n                  onClick={handleLogout}\n                  className=\"text-gray-500 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  로그아웃\n                </button>\n              </>\n            ) : (\n              <Link\n                href=\"/login\"\n                className=\"bg-indigo-600 text-white px-5 py-2 rounded-full text-sm font-bold shadow-md hover:bg-indigo-700 transition-all hover:shadow-lg transform hover:-translate-y-0.5\"\n              >\n                로그인\n              </Link>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA,sOAA6C,iBAAiB;AAJ9D;;;;;AAae,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,SAAS,IAAA,+IAAS,KAAI,YAAY;IAExC,YAAY;IACZ,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,aAAa,OAAO,CAAC;QACtC,cAAc,CAAC,CAAC;IAClB,GAAG,EAAE;IAEL,WAAW;IACX,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,cAAc;QACd,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,iBAAiB;IAC/C;IAEA,0BAA0B;IAC1B,MAAM,+BAA+B;QACnC,IAAI,YAAY;YACd,8BAA8B;YAC9B,OAAO,IAAI,CAAC;QACd,OAAO;YACL,mCAAmC;YACnC,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC,uKAAI;gCAAC,MAAK;gCAAI,WAAU;0CACvB,cAAA,8OAAC;oCAAK,WAAU;8CAAyD;;;;;;;;;;;0CAM3E,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAMD,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAOL,8OAAC;wBAAI,WAAU;kCACZ,2BACC;;8CACE,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;yDAKH,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}}]
}