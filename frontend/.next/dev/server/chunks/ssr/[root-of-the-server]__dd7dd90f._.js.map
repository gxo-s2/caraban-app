{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///home/snoo/caravan-app/frontend/src/app/caravans/page.tsx"],"sourcesContent":["// Define the type for a Caravan object based on our backend model\ntype Caravan = {\n  id: string;\n  name: string;\n  description: string;\n  location: string;\n  pricePerDay: number;\n  capacity: number;\n  createdAt: string;\n  updatedAt: string;\n  hostId: string;\n};\n\n// Function to fetch caravan data from the backend API\nasync function getCaravans(): Promise<Caravan[]> {\n  try {\n    // Ensure the backend server is running to get a successful response\n    const res = await fetch('http://localhost:3001/api/caravans', {\n      cache: 'no-store', // Disable caching to get the latest data on every request\n    });\n\n    if (!res.ok) {\n      // This will be caught by the nearest `error.js` Error Boundary\n      throw new Error('Failed to fetch caravan data.');\n    }\n\n    return res.json();\n  } catch (error) {\n    console.error('Error fetching caravans:', error);\n    // In case of an error (e.g., backend not running), return an empty array\n    // to prevent the page from crashing.\n    return [];\n  }\n}\n\n\nexport default async function CaravansPage() {\n  const caravans = await getCaravans();\n\n  return (\n    <main className=\"bg-gray-100 min-h-screen p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className=\"text-4xl font-bold text-gray-800 mb-8\">Explore Our Caravans</h1>\n        \n        {caravans.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {caravans.map((caravan) => (\n              <div key={caravan.id} className=\"bg-white rounded-lg shadow-lg overflow-hidden transition-transform transform hover:-translate-y-2\">\n                {/* You can add an image here later */}\n                {/* <img src=\"/placeholder.jpg\" alt={caravan.name} className=\"w-full h-48 object-cover\" /> */}\n                <div className=\"p-6\">\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{caravan.name}</h2>\n                  <p className=\"text-md text-gray-600 mb-4\">{caravan.location}</p>\n                  <div className=\"flex justify-between items-center\">\n                    <p className=\"text-xl font-semibold text-indigo-600\">\n                      ${caravan.pricePerDay}\n                      <span className=\"text-sm font-normal text-gray-500\"> / day</span>\n                    </p>\n                    <button className=\"bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 transition-colors\">\n                      View Details\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-16\">\n            <h2 className=\"text-2xl font-semibold text-gray-700\">No Caravans Available</h2>\n            <p className=\"text-gray-500 mt-2\">\n              Please check back later or make sure the backend server is running.\n            </p>\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"AAAA,kEAAkE;;;;;;;AAalE,sDAAsD;AACtD,eAAe;IACb,IAAI;QACF,oEAAoE;QACpE,MAAM,MAAM,MAAM,MAAM,sCAAsC;YAC5D,OAAO;QACT;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,+DAA+D;YAC/D,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,yEAAyE;QACzE,qCAAqC;QACrC,OAAO,EAAE;IACX;AACF;AAGe,eAAe;IAC5B,MAAM,WAAW,MAAM;IAEvB,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;gBAErD,SAAS,MAAM,GAAG,kBACjB,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;4BAAqB,WAAU;sCAG9B,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAyC,QAAQ,IAAI;;;;;;kDACnE,8OAAC;wCAAE,WAAU;kDAA8B,QAAQ,QAAQ;;;;;;kDAC3D,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;;oDAAwC;oDACjD,QAAQ,WAAW;kEACrB,8OAAC;wDAAK,WAAU;kEAAoC;;;;;;;;;;;;0DAEtD,8OAAC;gDAAO,WAAU;0DAAsF;;;;;;;;;;;;;;;;;;2BAXpG,QAAQ,EAAE;;;;;;;;;yCAoBxB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,8OAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;;;;;;;;;;;;AAQ9C"}}]
}