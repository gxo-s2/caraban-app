{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/snoo/caravan-app/frontend/src/app/reservations/lookup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { Reservation } from '@/types/reservation';\nimport { Caravan } from '@/types/caravan';\n\n// Helper function to format dates\nconst formatDate = (dateString: string) => {\n  return new Date(dateString).toISOString().split('T')[0];\n};\n\n// Helper function to format currency\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' }).format(amount);\n};\n\n// Badge component for reservation status\nconst StatusBadge = ({ status }: { status: Reservation['status'] }) => {\n  const statusStyles: { [key in Reservation['status']]: string } = {\n    PENDING: 'bg-yellow-100 text-yellow-800',\n    CONFIRMED: 'bg-green-100 text-green-800',\n    CANCELLED: 'bg-red-100 text-red-800',\n  };\n\n  return (\n    <span className={`px-3 py-1 text-sm font-semibold rounded-full ${statusStyles[status]}`}>\n      {status}\n    </span>\n  );\n};\n\n\nconst ReservationCard = ({ reservation }: { reservation: Reservation }) => (\n    <div className=\"bg-white rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105\">\n      <div className=\"relative\">\n        <img \n          src={reservation.caravan.imageUrl || 'https://via.placeholder.com/400x300?text=No+Image'} \n          alt={reservation.caravan.name} \n          className=\"w-full h-56 object-cover\" \n        />\n        <div className=\"absolute top-4 right-4\">\n          <StatusBadge status={reservation.status} />\n        </div>\n      </div>\n      <div className=\"p-6\">\n        <p className=\"text-sm text-gray-500 mb-1\">{reservation.caravan.location}</p>\n        <h3 className=\"text-2xl font-bold mb-3 truncate\">{reservation.caravan.name}</h3>\n        <div className=\"space-y-2 text-gray-700\">\n          <p>\n            <span className=\"font-semibold\">예약 날짜:</span> {formatDate(reservation.startDate)} ~ {formatDate(reservation.endDate)}\n          </p>\n          <p>\n            <span className=\"font-semibold\">총 결제 금액:</span> {formatCurrency(reservation.totalPrice)}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n\nconst ReservationLookupPage = () => {\n  const [reservationId, setReservationId] = useState('');\n  const [reservation, setReservation] = useState<Reservation | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleLookup = async () => {\n    if (!reservationId.trim()) {\n      setError('예약 번호를 입력해주세요.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setReservation(null);\n    try {\n      const response = await axios.get(`http://localhost:3001/api/reservations/lookup/${reservationId}`);\n      setReservation(response.data);\n    } catch (err: any) {\n      if (err.response && err.response.status === 404) {\n        setError('해당 예약 번호를 찾을 수 없습니다.');\n      } else {\n        setError('조회 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.');\n      }\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"max-w-2xl mx-auto text-center\">\n        <h1 className=\"text-3xl font-bold mb-4\">예약 조회</h1>\n        <p className=\"text-gray-600 mb-8\">예약 번호를 입력하여 예약 내역을 확인하세요.</p>\n        \n        <div className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={reservationId}\n            onChange={(e) => setReservationId(e.target.value)}\n            placeholder=\"예약 번호(UUID)를 입력하세요\"\n            className=\"flex-grow p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none\"\n          />\n          <button\n            onClick={handleLookup}\n            disabled={loading}\n            className=\"bg-blue-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-600 transition disabled:bg-gray-400\"\n          >\n            {loading ? '조회 중...' : '조회'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"mt-12 max-w-2xl mx-auto\">\n        {error && <p className=\"text-red-500 text-center\">{error}</p>}\n        {reservation && <ReservationCard reservation={reservation} />}\n      </div>\n    </div>\n  );\n};\n\nexport default ReservationLookupPage;\n"],"names":[],"mappings":"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"}}]
}