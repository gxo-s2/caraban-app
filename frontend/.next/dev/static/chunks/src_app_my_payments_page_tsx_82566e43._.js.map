{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/snoo/caravan-app/frontend/src/app/my/payments/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Link from 'next/link';\n\n// 타입 정의\ninterface Payment {\n  id: string;\n  amount: number;\n  method: string;\n  status: string;\n  paymentDate: string;\n  reservation: {\n    id: string;\n    caravan: {\n      name: string;\n    };\n  };\n}\n\nexport default function MyPaymentsPage() {\n  const [payments, setPayments] = useState<Payment[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchPayments = async () => {\n      const storedUser = localStorage.getItem('user');\n      if (!storedUser) {\n        setError('로그인이 필요합니다.');\n        setLoading(false);\n        return;\n      }\n      const user = JSON.parse(storedUser);\n\n      try {\n        const response = await axios.get(`http://localhost:3001/api/payments/user/${user.id}`);\n        setPayments(response.data);\n      } catch (err) {\n        setError('결제 내역을 불러오는 데 실패했습니다.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPayments();\n  }, []);\n\n  if (loading) {\n    return <div className=\"text-center py-20\">로딩 중...</div>;\n  }\n\n  if (error) {\n    return <div className=\"text-center py-20 text-red-500\">{error}</div>;\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-4 md:p-8\">\n      <h1 className=\"text-3xl font-bold mb-8\">나의 결제 내역</h1>\n\n      {payments.length === 0 ? (\n        <div className=\"text-center bg-gray-100 rounded-lg p-12\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">결제 내역이 없습니다.</h2>\n          <p className=\"text-gray-500 mb-6\">아직 CaravanShare를 통해 결제한 내역이 없으시군요!</p>\n          <Link href=\"/caravans\" className=\"px-6 py-3 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 transition-colors\">\n            멋진 카라반 찾아보기\n          </Link>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {payments.map((payment) => (\n            <div key={payment.id} className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\n              <div className=\"flex flex-col md:flex-row justify-between\">\n                <div>\n                  <h2 className=\"text-xl font-semibold text-indigo-700\">{payment.reservation?.caravan?.name || '알 수 없는 카라반'}</h2>\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    예약 번호: {payment.reservation.id}\n                  </p>\n                </div>\n                <div className=\"mt-4 md:mt-0 md:text-right\">\n                  <p className=\"text-lg font-bold\">₩{payment.amount.toLocaleString()}</p>\n                  <p className={`text-sm font-semibold ${\n                    payment.status === 'COMPLETED' ? 'text-green-600' :\n                    payment.status === 'REFUNDED' ? 'text-yellow-600' : 'text-red-600'\n                  }`}>\n                    {payment.status}\n                  </p>\n                </div>\n              </div>\n              <div className=\"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500 flex justify-between\">\n                <span>결제일: {new Date(payment.paymentDate).toLocaleDateString()}</span>\n                <span>결제수단: {payment.method}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAqBe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;oCAAC;YACR,MAAM;0DAAgB;oBACpB,MAAM,aAAa,aAAa,OAAO,CAAC;oBACxC,IAAI,CAAC,YAAY;wBACf,SAAS;wBACT,WAAW;wBACX;oBACF;oBACA,MAAM,OAAO,KAAK,KAAK,CAAC;oBAExB,IAAI;wBACF,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,CAAC,wCAAwC,EAAE,KAAK,EAAE,EAAE;wBACrF,YAAY,SAAS,IAAI;oBAC3B,EAAE,OAAO,KAAK;wBACZ,SAAS;wBACT,QAAQ,KAAK,CAAC;oBAChB,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;mCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAoB;;;;;;IAC5C;IAEA,IAAI,OAAO;QACT,qBAAO,6LAAC;YAAI,WAAU;sBAAkC;;;;;;IAC1D;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,SAAS,MAAM,KAAK,kBACnB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAClC,6LAAC,0KAAI;wBAAC,MAAK;wBAAY,WAAU;kCAAkG;;;;;;;;;;;qCAKrI,6LAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;wBAAqB,WAAU;;0CAC9B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAyC,QAAQ,WAAW,EAAE,SAAS,QAAQ;;;;;;0DAC7F,6LAAC;gDAAE,WAAU;;oDAA6B;oDAChC,QAAQ,WAAW,CAAC,EAAE;;;;;;;;;;;;;kDAGlC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAE,WAAU;;oDAAoB;oDAAE,QAAQ,MAAM,CAAC,cAAc;;;;;;;0DAChE,6LAAC;gDAAE,WAAW,CAAC,sBAAsB,EACnC,QAAQ,MAAM,KAAK,cAAc,mBACjC,QAAQ,MAAM,KAAK,aAAa,oBAAoB,gBACpD;0DACC,QAAQ,MAAM;;;;;;;;;;;;;;;;;;0CAIrB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;4CAAK;4CAAM,IAAI,KAAK,QAAQ,WAAW,EAAE,kBAAkB;;;;;;;kDAC5D,6LAAC;;4CAAK;4CAAO,QAAQ,MAAM;;;;;;;;;;;;;;uBApBrB,QAAQ,EAAE;;;;;;;;;;;;;;;;AA4BhC;GAhFwB;KAAA"}}]
}